<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>React 搭建后台项目</title><meta name="description" content="React 搭建后台项目"/><link rel="icon" href="/CarStation.svg"/><meta name="google-site-verification" content="JPHZGs4Zk2iX0LKmv_kGBKtIfuo3rUJCO0AD6aP8bYc"/><meta name="next-head-count" content="6"/><link rel="preload" href="/_next/static/css/6e0c8d9ced1e22d0.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e0c8d9ced1e22d0.css" data-n-g=""/><link rel="preload" href="/_next/static/css/b24a9a06bb53618e.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b24a9a06bb53618e.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-7180b5018c6594e2.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-a6a17768821d805e.js" defer=""></script><script src="/_next/static/chunks/pages/_app-cc4289bbb2571876.js" defer=""></script><script src="/_next/static/chunks/647-2045c5df6fd5ed37.js" defer=""></script><script src="/_next/static/chunks/337-dc7edfac29e0cd58.js" defer=""></script><script src="/_next/static/chunks/pages/artcontent/%5Baid%5D-35eb7a1c749591f7.js" defer=""></script><script src="/_next/static/kRrtnNUirzJtMh_xDWC5r/_buildManifest.js" defer=""></script><script src="/_next/static/kRrtnNUirzJtMh_xDWC5r/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="rootPage"><div class="pageHeader" style="background-image:url(/_next/static/media/sea-bg.34630b96.jpg)"><div class="pageHeaderContent pageHeaderContent-detail">诗和远方</div></div><div class="layouts"><div class="layoutsmenu"><div class="layoutsmenufixed" style="height:0"><div class="players"><button type="button" class="ant-btn ant-btn-link layoutsButton"><span role="img" aria-label="home" class="anticon anticon-home"><svg viewBox="64 64 896 896" focusable="false" data-icon="home" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 00-44.4 0L77.5 505a63.9 63.9 0 00-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0018.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"></path></svg></span><span>主页</span></button><button type="button" class="ant-btn ant-btn-link layoutsButton"><span role="img" aria-label="snippets" class="anticon anticon-snippets"><svg viewBox="64 64 896 896" focusable="false" data-icon="snippets" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M832 112H724V72c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v40H500V72c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v40H320c-17.7 0-32 14.3-32 32v120h-96c-17.7 0-32 14.3-32 32v632c0 17.7 14.3 32 32 32h512c17.7 0 32-14.3 32-32v-96h96c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zM664 888H232V336h218v174c0 22.1 17.9 40 40 40h174v338zm0-402H514V336h.2L664 485.8v.2zm128 274h-56V456L544 264H360v-80h68v32c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-32h152v32c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-32h68v576z"></path></svg></span><span>刷新页面</span></button><button type="button" class="ant-btn ant-btn-link layoutsButton"><span role="img" aria-label="github" class="anticon anticon-github"><svg viewBox="64 64 896 896" focusable="false" data-icon="github" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9a127.5 127.5 0 0138.1 91v112.5c.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z"></path></svg></span><span>我的主页</span></button></div></div><div class="adminControl"><span class="adminControl-line1"></span><span class="adminControl-line2"><span class="adminControl-line4"></span></span><span class="adminControl-line3"></span></div></div><div class="layoutsMain"><div><main class="artcontent_main__Q2ogA"><h1>React 搭建后台项目</h1><p>Loading ...</p><div class="artcontent_extra__RKNS4"><div>2022/11/17</div></div></main></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"datas":{"id":93,"art_title":"React 搭建后台项目","art_content":"\u003ch2\u003e创建一个项目\u003c/h2\u003e\u003ch3\u003e\u003cspan style=\"color: rgb(0, 0, 0);\"\u003e官网推荐的工具链\u003c/span\u003e\u003c/h3\u003e\u003cp\u003e\u003cspan style=\"color: rgb(0, 0, 0); font-size: 16px;\"\u003eReact 团队主要推荐这些解决方案：\u003c/span\u003e\u003c/p\u003e\u003cul\u003e\u003cli\u003e\u003cspan style=\"color: rgb(26, 26, 26);\"\u003e如果你是在\u003c/span\u003e\u003cstrong\u003e学习 React\u003c/strong\u003e\u003cspan style=\"color: rgb(26, 26, 26);\"\u003e 或\u003c/span\u003e\u003cstrong\u003e创建一个新的\u003c/strong\u003e单页\u003cstrong\u003e应用\u003c/strong\u003e\u003cspan style=\"color: rgb(26, 26, 26);\"\u003e，请使用 \u003c/span\u003eCreate React App\u003cspan style=\"color: rgb(26, 26, 26);\"\u003e。\u003c/span\u003e\u003c/li\u003e\u003cli\u003e\u003cspan style=\"color: rgb(26, 26, 26);\"\u003e如果你是在\u003c/span\u003e\u003cstrong\u003e用 Node.js 构建服务端渲染的网站\u003c/strong\u003e\u003cspan style=\"color: rgb(26, 26, 26);\"\u003e，试试 \u003c/span\u003eNext.js\u003cspan style=\"color: rgb(26, 26, 26);\"\u003e。\u003c/span\u003e\u003c/li\u003e\u003cli\u003e\u003cspan style=\"color: rgb(26, 26, 26);\"\u003e如果你是在构建\u003c/span\u003e\u003cstrong\u003e内容主导的静态网站\u003c/strong\u003e\u003cspan style=\"color: rgb(26, 26, 26);\"\u003e，试试 \u003c/span\u003eGatsby\u003cspan style=\"color: rgb(26, 26, 26);\"\u003e。\u003c/span\u003e\u003c/li\u003e\u003cli\u003e\u003cspan style=\"color: rgb(26, 26, 26);\"\u003e如果你是在打造\u003c/span\u003e\u003cstrong\u003e组件库\u003c/strong\u003e\u003cspan style=\"color: rgb(26, 26, 26);\"\u003e或\u003c/span\u003e\u003cstrong\u003e将 React 集成到现有代码仓库\u003c/strong\u003e\u003cspan style=\"color: rgb(26, 26, 26);\"\u003e，尝试\u003c/span\u003e更灵活的工具链\u003cspan style=\"color: rgb(26, 26, 26);\"\u003e。\u003c/span\u003e\u003c/li\u003e\u003c/ul\u003e\u003ch3\u003e\u003cspan style=\"color: rgb(0, 0, 0);\"\u003eCreate React App\u003c/span\u003e\u003c/h3\u003e\u003cp\u003e\u003ca href=\"https://github.com/facebookincubator/create-react-app\" target=\"_blank\"\u003eCreate React App\u003c/a\u003e\u003cspan style=\"color: rgb(0, 0, 0); font-size: 16px;\"\u003e 是一个用于\u003c/span\u003e\u003cstrong\u003e学习 React\u003c/strong\u003e\u003cspan style=\"color: rgb(0, 0, 0); font-size: 16px;\"\u003e 的舒适环境，也是用 React 创建\u003c/span\u003e\u003cstrong\u003e新的\u003c/strong\u003e\u003ca href=\"https://zh-hans.reactjs.org/docs/glossary.html#single-page-application\" target=\"_blank\"\u003e单页\u003c/a\u003e\u003cstrong\u003e应用\u003c/strong\u003e\u003cspan style=\"color: rgb(0, 0, 0); font-size: 16px;\"\u003e的最佳方式。\u003c/span\u003e\u003c/p\u003e\u003cp\u003e\u003cspan style=\"color: rgb(0, 0, 0); font-size: 16px;\"\u003e它会配置你的开发环境，以便使你能够使用最新的 JavaScript 特性，提供良好的开发体验，并为生产环境优化你的应用程序。你需要在你的机器上安装 \u003c/span\u003e\u003ca href=\"https://nodejs.org/en/\" target=\"_blank\"\u003eNode \u0026gt;= 14.0.0 和 npm \u0026gt;= 5.6\u003c/a\u003e\u003cspan style=\"color: rgb(0, 0, 0); font-size: 16px;\"\u003e。要创建项目，请执行：\u003c/span\u003e\u003c/p\u003e\u003cpre\u003e\u003ccode \u003enpx create-react-app my-app \ncd my-app \nnpm start\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cstrong\u003e注意\u003c/strong\u003e\u003c/p\u003e\u003cp\u003e\u003cspan style=\"color: rgb(0, 0, 0); font-size: 16px;\"\u003e第一行的 \u003c/span\u003e\u003cspan style=\"color: rgb(26, 26, 26); font-size: 16px;\"\u003enpx\u003c/span\u003e\u003cspan style=\"color: rgb(0, 0, 0); font-size: 16px;\"\u003e 不是拼写错误 —— 它是 \u003c/span\u003enpm 5.2+ 附带的 package 运行工具\u003cspan style=\"color: rgb(0, 0, 0); font-size: 16px;\"\u003e。\u003c/span\u003e\u003c/p\u003e\u003cp\u003e\u003cspan style=\"color: rgb(0, 0, 0); font-size: 16px;\"\u003eCreate React App 不会处理后端逻辑或操纵数据库；它只是创建一个前端构建流水线（build pipeline），所以你可以使用它来配合任何你想使用的后端。它在内部使用 \u003c/span\u003e\u003ca href=\"https://babeljs.io/\" target=\"_blank\"\u003eBabel\u003c/a\u003e\u003cspan style=\"color: rgb(0, 0, 0); font-size: 16px;\"\u003e 和 \u003c/span\u003e\u003ca href=\"https://webpack.js.org/\" target=\"_blank\"\u003ewebpack\u003c/a\u003e\u003cspan style=\"color: rgb(0, 0, 0); font-size: 16px;\"\u003e，但你无需了解它们的任何细节。\u003c/span\u003e\u003c/p\u003e\u003cp\u003e\u003cspan style=\"color: rgb(0, 0, 0); font-size: 16px;\"\u003e当你准备好部署到生产环境时，执行 \u003c/span\u003e\u003cspan style=\"color: rgb(26, 26, 26); font-size: 16px;\"\u003enpm run build\u003c/span\u003e\u003cspan style=\"color: rgb(0, 0, 0); font-size: 16px;\"\u003e 会在 \u003c/span\u003e\u003cspan style=\"color: rgb(26, 26, 26); font-size: 16px;\"\u003ebuild\u003c/span\u003e\u003cspan style=\"color: rgb(0, 0, 0); font-size: 16px;\"\u003e 文件夹内生成你应用的优化版本。\u003c/span\u003e\u003c/p\u003e\u003cp\u003e项目初始页面：\u003c/p\u003e\u003cp\u003e\u003cimg src=\"https://cdn.nlark.com/yuque/0/2022/png/29349018/1667288055402-d6851283-8b72-48bb-b4cb-dab40dea6a4b.png\" alt=\"\" data-href=\"\" style=\"\"/\u003e\u003c/p\u003e\u003cp\u003e初始目录结构：\u003c/p\u003e\u003cpre\u003e\u003ccode \u003emy-app\n├── README.md\n├── node_modules\n├── package.json\n├── .gitignore\n├── public\t\t\t\t\t\t\t\t\t # 不参与编译的资源文件\n│   ├── favicon.ico\n│   ├── index.html\n│   └── manifest.json\n└── src\t\t\t\t\t\t\t\t\t\t\t # 主程序目录\t\t\n    ├── App.css\n    ├── App.js\n    ├── App.test.js\n    ├── index.css\n    ├── index.js\n    ├── logo.svg\n    └── serviceWorker.js\n    └── setupTests.js\u003c/code\u003e\u003c/pre\u003e\u003ch3\u003e一个模块（页面/组件）的基本代码结构\u003c/h3\u003e\u003cp\u003ehello.jsx:\u003c/p\u003e\u003cpre\u003e\u003ccode \u003eimport React, { useState } from 'react'\nimport styles from './index.module.scss'\n\nconst app = () =\u0026gt; {\n  \n  const [data, setData] = useState('hello world')\n  \n  const onChange = () =\u0026gt; {\n    setActiveKey('changed')\n  }\n\n  return (\n    \u0026lt;div className={styles.box} onClick={onChange}\u0026gt;\n  \t\t{data}\n    \u0026lt;/div\u0026gt;\n  )\n}\n\nexport default app\n\u003c/code\u003e\u003c/pre\u003e\u003ch2\u003e构建路由 \u003cspan style=\"color: rgb(28, 30, 33); font-size: 16px;\"\u003eReact Router\u003c/span\u003e\u003c/h2\u003e\u003cp\u003e为什么要使用路由？\u003c/p\u003e\u003cp\u003e传统web开发是每一个请求地址都会请求服务器来进行处理，但是用户有些操作则无需请求服务器，直接页面端修改下逻辑就能达到目的，这种最好使用路由，使用路由时，url也是随着改变的，用户浏览到一个网页时可以直接复制或收藏当前页的url给别人，这种方式对于搜索引擎和用户来说都是友好的。\u003c/p\u003e\u003cp\u003e\u003cbr\u003e\u003c/p\u003e\u003cp\u003e\u003cspan style=\"color: rgb(28, 30, 33); font-size: 16px;\"\u003eReact Router\u003c/span\u003e\u003c/p\u003e\u003cp\u003e\u003cspan style=\"color: rgb(28, 30, 33); font-size: 16px;\"\u003eReact Router是为React（一个用于构建用户界面的 JavaScript 库）设计的一个功能齐全的可以用在客户端和服务端的路由库，它可以在React运行的地方运行，在web上，node.js在服务器上，以及React Native上。\u003c/span\u003e\u003c/p\u003e\u003ch3\u003e\u003cspan style=\"font-size: 16px;\"\u003e安装\u003c/span\u003e\u003c/h3\u003e\u003cp\u003e\u003cspan style=\"font-size: 16px;\"\u003e在项目目录下，使用npm下载\u003c/span\u003e\u003c/p\u003e\u003cpre\u003e\u003ccode \u003enpm install react-router-dom@6 history@5\u003c/code\u003e\u003c/pre\u003e\u003ch3\u003e项目中使用\u003c/h3\u003e\u003cp\u003e\u003cspan style=\"font-size: 16px;\"\u003e首先创建路由：选定一个入口文件，并引入 \u003c/span\u003e\u003cspan style=\"color: rgb(28, 30, 33); font-size: 16px;\"\u003eBrowserRouter 组件包裹整个应用；添加路由、嵌套路由、重定向；\u003c/span\u003e\u003c/p\u003e\u003cp\u003e\u003cspan style=\"color: rgb(28, 30, 33); font-size: 16px;\"\u003e入口文件：\u003c/span\u003e\u003c/p\u003e\u003cpre\u003e\u003ccode \u003eimport React, { } from 'react'\nimport './App.css'\nimport {\n  BrowserRouter as Router,\n  Routes,\n  Route,\n  Navigate\n} from 'react-router-dom'\nimport DefaultLayout from '@/components/Layouts/DefaultLayout'\nimport routesData from './router/routes'\nimport Login from './pages/Login'\n\nfunction App () {\n  return (\n    \u0026lt;div className=\"App\"\u0026gt;\n      \u0026lt;Router\u0026gt;\n        \u0026lt;Routes\u0026gt;\n          {/* 首次进入页面是重定向到/home路径 */}\n          \u0026lt;Route path=\"/\" element={\u0026lt;Navigate to=\"/home\" /\u0026gt;}\u0026gt;\u0026lt;/Route\u0026gt;\n          \u0026lt;Route element={\u0026lt;DefaultLayout /\u0026gt;}\u0026gt;\n            {routesData.map((item: any, index: number) =\u0026gt; {\n              return (\n                \u0026lt;Route\n                  path={item.path}\n                  key={index}\n                  element={\u0026lt;item.component /\u0026gt;}\n                \u0026gt;\u0026lt;/Route\u0026gt;\n              )\n            })}\n          \u0026lt;/Route\u0026gt;\n          \u0026lt;Route path=\"/login\" element={\u0026lt;Login /\u0026gt;} /\u0026gt;\n          \u0026lt;Route path=\"*\" element={\u0026lt;div className=\"noFound\"\u0026gt;Not Found\u0026lt;/div\u0026gt;} /\u0026gt;\n        \u0026lt;/Routes\u0026gt;\n      \u0026lt;/Router\u0026gt;\n    \u0026lt;/div\u0026gt;\n  )\n}\nexport default App\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cspan style=\"font-size: 16px;\"\u003e路由之间的跳转\u003c/span\u003e\u003c/p\u003e\u003cp\u003e\u003cspan style=\"font-size: 16px;\"\u003e方法一：\u003c/span\u003e\u003c/p\u003e\u003cpre\u003e\u003ccode \u003eimport { Link } from \"react-router-dom\";\n\nexport default function App() {\n  return (\n    \u0026lt;div\u0026gt;\n        \u0026lt;Link to=\"/home\"\u0026gt;home\u0026lt;/Link\u0026gt;\n        \u0026lt;Link to=\"/login\"\u0026gt;login\u0026lt;/Link\u0026gt;\n    \u0026lt;/div\u0026gt;\n  );\n}\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cspan style=\"font-size: 16px;\"\u003e方法二：\u003c/span\u003e\u003c/p\u003e\u003cpre\u003e\u003ccode \u003eimport { useNavigate } from \"react-router-dom\";\n\nexport default function App() {\n  const navigate = useNavigate()\n  return (\n    \u0026lt;div\u0026gt;\n        \u0026lt;button onClick={()=\u0026gt;navigate('/home')}\u0026gt;home\u0026lt;/button\u0026gt;\n        \u0026lt;button onClick={()=\u0026gt;navigate('/login')}\u0026gt;login\u0026lt;/button\u0026gt;\n    \u0026lt;/div\u0026gt;\n  );\n}\u003c/code\u003e\u003c/pre\u003e\u003ch2\u003e配置Antd组件库\u003c/h2\u003e\u003cp\u003e\u003cspan style=\"color: rgba(0, 0, 0, 0.85); background-color: rgb(242, 244, 245);\"\u003eantd\u003c/span\u003e\u003cspan style=\"color: rgba(0, 0, 0, 0.85); font-size: 14px;\"\u003e 是基于 Ant Design 设计体系的 React UI 组件库，主要用于研发企业级中后台产品。\u003c/span\u003e\u003c/p\u003e\u003cp style=\"text-align: left;\"\u003e\u003cimg src=\"https://cdn.nlark.com/yuque/0/2022/png/29349018/1667289069588-daffe4f2-9fbc-4a09-886d-daa1658ebade.png\" alt=\"\" data-href=\"\" style=\"\"\u003e\u003c/p\u003e\u003cp\u003e\u003cspan style=\"color: rgba(0, 0, 0, 0.85);\"\u003e✨\u003c/span\u003e\u003cstrong\u003e 特性：\u003c/strong\u003e\u003c/p\u003e\u003cul\u003e\u003cli\u003e\u003cspan style=\"color: rgba(0, 0, 0, 0.85); font-size: 14px;\"\u003e🌈 提炼自企业级中后台产品的交互语言和视觉风格。\u003c/span\u003e\u003c/li\u003e\u003cli\u003e\u003cspan style=\"color: rgba(0, 0, 0, 0.85); font-size: 14px;\"\u003e📦 开箱即用的高质量 React 组件。\u003c/span\u003e\u003c/li\u003e\u003cli\u003e\u003cspan style=\"color: rgba(0, 0, 0, 0.85); font-size: 14px;\"\u003e🛡 使用 TypeScript 开发，提供完整的类型定义文件。\u003c/span\u003e\u003c/li\u003e\u003cli\u003e\u003cspan style=\"color: rgba(0, 0, 0, 0.85); font-size: 14px;\"\u003e⚙️ 全链路开发和设计工具体系。\u003c/span\u003e\u003c/li\u003e\u003cli\u003e\u003cspan style=\"color: rgba(0, 0, 0, 0.85); font-size: 14px;\"\u003e🌍 数十个国际化语言支持。\u003c/span\u003e\u003c/li\u003e\u003cli\u003e\u003cspan style=\"color: rgba(0, 0, 0, 0.85); font-size: 14px;\"\u003e🎨 深入每个细节的主题定制能力。\u003c/span\u003e\u003c/li\u003e\u003c/ul\u003e\u003cp\u003e\u003cbr\u003e\u003c/p\u003e\u003cp\u003e安装使用\u003c/p\u003e\u003cpre\u003e\u003ccode \u003enpm install antd\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e使用一个按钮组件\u003c/p\u003e\u003cpre\u003e\u003ccode \u003eimport React from 'react';\nimport { Button } from 'antd';\nimport './App.css';\n\nconst App = () =\u0026gt; (\n  \u0026lt;div className=\"App\"\u0026gt;\n    \u0026lt;Button type=\"primary\"\u0026gt;Button\u0026lt;/Button\u0026gt;\n  \u0026lt;/div\u0026gt;\n);\n\nexport default App;\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e导入样式，\u003cspan style=\"color: rgba(0, 0, 0, 0.85); font-size: 14px;\"\u003e修改 \u003c/span\u003e\u003cspan style=\"color: rgba(0, 0, 0, 0.85); background-color: rgb(242, 244, 245);\"\u003esrc/App.css\u003c/span\u003e\u003cspan style=\"color: rgba(0, 0, 0, 0.85); font-size: 14px;\"\u003e，在文件顶部引入 \u003c/span\u003e\u003cspan style=\"color: rgba(0, 0, 0, 0.85); background-color: rgb(242, 244, 245);\"\u003eantd/dist/antd.css\u003c/span\u003e\u003cspan style=\"color: rgba(0, 0, 0, 0.85); font-size: 14px;\"\u003e。\u003c/span\u003e\u003c/p\u003e\u003cpre\u003e\u003ccode \u003e@import '~antd/dist/antd.css';\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e全局配置中文语言环境，默认情况下，antd语言是英文，需要手动修改回中文环境\u003c/p\u003e\u003cp\u003eindex.js:\u003c/p\u003e\u003cpre\u003e\u003ccode \u003eimport React from 'react'\nimport ReactDOM from 'react-dom/client'\nimport './index.css'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\nimport { ConfigProvider } from 'antd'\nimport zhCN from 'antd/es/locale/zh_CN'\n\nconst root = ReactDOM.createRoot(\n  document.getElementById('root') as HTMLElement\n)\nroot.render(\n  // ConfigProvider antd全局配置中文语言环境\n  \u0026lt;ConfigProvider locale={zhCN}\u0026gt;\n    \u0026lt;App /\u0026gt;\n  \u0026lt;/ConfigProvider\u0026gt;\n)\n\nreportWebVitals()\n\u003c/code\u003e\u003c/pre\u003e\u003ch2\u003e封装全局组件\u003c/h2\u003e\u003cp\u003e在src/components路径下创建全局组件,解决重复利用，开发代码基本和页面开发一致，\u003c/p\u003e\u003cp\u003e举个例子：\u003c/p\u003e\u003cpre\u003e\u003ccode \u003eimport styles from './index.module.scss'\nimport React, { } from 'react'\n\nconst App = (props) =\u0026gt; {\n  const { title = '段落标题', children, style } = props\n  return (\n    \u0026lt;div className={styles.box} style={style}\u0026gt;\n      \u0026lt;div className={styles.header}\u0026gt;\u0026lt;div className={styles.headerItem}\u0026gt;{title}\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n      \u0026lt;div className={styles.content}\u0026gt;{ children}\u0026lt;/div\u0026gt;\n    \u0026lt;/div\u0026gt;\n  )\n}\nexport default App\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e调用\u003c/p\u003e\u003cpre\u003e\u003ccode \u003eimport Plates from '@/components/Plates'\n\n...\n\n\u0026lt;Plates title={'费用详情'}\u0026gt;\n  \u0026lt;Table\n    columns={columns}\n    dataSource={data}\n    pagination={false}\n    bordered\n    size={'small'}\n  /\u0026gt;\n\u0026lt;/Plates\u0026gt;\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cimg src=\"https://cdn.nlark.com/yuque/0/2022/png/29349018/1668648752246-771519a6-4446-48b8-a095-848e711a9bcc.png\" alt=\"\" data-href=\"\" style=\"\"/\u003e\u003c/p\u003e\u003ch2\u003e二次封装请求函数\u003c/h2\u003e\u003ch3\u003e\u003cspan style=\"color: rgb(51, 51, 51);\"\u003eAxios 是什么?\u003c/span\u003e\u003c/h3\u003e\u003cp\u003eAxios 是一个基于 \u003ca href=\"https://link.juejin.cn?target=https%3A%2F%2Fjavascript.info%2Fpromise-basics\" target=\"_blank\"\u003epromise\u003c/a\u003e 网络请求库，作用于\u003ca href=\"https://link.juejin.cn?target=https%3A%2F%2Fnodejs.org%2F\" target=\"_blank\"\u003enode.js\u003c/a\u003e 和浏览器中。 它是 \u003ca href=\"https://link.juejin.cn?target=https%3A%2F%2Fwww.lullabot.com%2Farticles%2Fwhat-is-an-isomorphic-application\" target=\"_blank\"\u003eisomorphic\u003c/a\u003e 的(即同一套代码可以运行在浏览器和node.js中)。在服务端它使用原生 node.js http 模块, 而在客户端 (浏览端) 则使用 XMLHttpRequests。\u003c/p\u003e\u003cp\u003e\u003cstrong\u003e特性\u003c/strong\u003e\u003c/p\u003e\u003cul\u003e\u003cli\u003e\u003cspan style=\"color: rgb(51, 51, 51); font-size: 16px;\"\u003e从浏览器中创建 \u003c/span\u003e\u003cspan style=\"color: rgb(255, 80, 44); background-color: rgb(255, 245, 245); font-size: 16px;\"\u003eXMLHttpRequests\u003c/span\u003e\u003c/li\u003e\u003cli\u003e\u003cspan style=\"color: rgb(51, 51, 51); font-size: 16px;\"\u003e从 \u003c/span\u003e\u003cspan style=\"color: rgb(255, 80, 44); background-color: rgb(255, 245, 245); font-size: 16px;\"\u003enode.js\u003c/span\u003e\u003cspan style=\"color: rgb(51, 51, 51); font-size: 16px;\"\u003e 创建 \u003c/span\u003e\u003cspan style=\"color: rgb(255, 80, 44); background-color: rgb(255, 245, 245); font-size: 16px;\"\u003ehttp\u003c/span\u003e\u003cspan style=\"color: rgb(51, 51, 51); font-size: 16px;\"\u003e请求\u003c/span\u003e\u003c/li\u003e\u003cli\u003e\u003cspan style=\"color: rgb(51, 51, 51); font-size: 16px;\"\u003e支持 \u003c/span\u003e\u003cspan style=\"color: rgb(255, 80, 44); background-color: rgb(255, 245, 245); font-size: 16px;\"\u003ePromise\u003c/span\u003e\u003cspan style=\"color: rgb(51, 51, 51); font-size: 16px;\"\u003e API\u003c/span\u003e\u003c/li\u003e\u003cli\u003e\u003cspan style=\"color: rgb(51, 51, 51); font-size: 16px;\"\u003e拦截请求和响应\u003c/span\u003e\u003c/li\u003e\u003cli\u003e\u003cspan style=\"color: rgb(51, 51, 51); font-size: 16px;\"\u003e转换请求数据和响应数据\u003c/span\u003e\u003c/li\u003e\u003cli\u003e\u003cspan style=\"color: rgb(51, 51, 51); font-size: 16px;\"\u003e取消请求\u003c/span\u003e\u003c/li\u003e\u003cli\u003e\u003cspan style=\"color: rgb(51, 51, 51); font-size: 16px;\"\u003e自动转换\u003c/span\u003e\u003cspan style=\"color: rgb(255, 80, 44); background-color: rgb(255, 245, 245); font-size: 16px;\"\u003e JSON\u003c/span\u003e\u003cspan style=\"color: rgb(51, 51, 51); font-size: 16px;\"\u003e 数据\u003c/span\u003e\u003c/li\u003e\u003cli\u003e\u003cspan style=\"color: rgb(51, 51, 51); font-size: 16px;\"\u003e客户端支持防御\u003c/span\u003e\u003cspan style=\"color: rgb(255, 80, 44); background-color: rgb(255, 245, 245); font-size: 16px;\"\u003eXSRF\u003c/span\u003e\u003c/li\u003e\u003c/ul\u003e\u003ch3\u003e\u003cspan style=\"background-color: rgb(255, 245, 245);\"\u003e基本使用\u003c/span\u003e\u003c/h3\u003e\u003cp\u003e\u003cspan style=\"color: rgb(51, 51, 51); font-size: 16px;\"\u003e安装\u003c/span\u003e\u003c/p\u003e\u003cpre\u003e\u003ccode \u003enpm install axios\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cspan style=\"color: rgb(51, 51, 51); font-size: 16px;\"\u003e导入\u003c/span\u003e\u003c/p\u003e\u003cpre\u003e\u003ccode \u003eimport axios from 'axios'\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cspan style=\"color: rgb(51, 51, 51); font-size: 16px;\"\u003e发送请求\u003c/span\u003e\u003c/p\u003e\u003cpre\u003e\u003ccode \u003eaxios({        \n  url:'xxx',    // 设置请求的地址\n  method:\"GET\", // 设置请求方法\n  params:{      // get请求使用params进行参数凭借,如果是post请求用data\n    type: '',\n    page: 1\n  }\n}).then(res =\u0026gt; {  \n  // res为后端返回的数据\n  console.log(res);   \n})\n\u003c/code\u003e\u003c/pre\u003e\u003ch3\u003e\u003cspan style=\"color: rgb(51, 51, 51);\"\u003e为什么要封装\u003c/span\u003e\u003c/h3\u003e\u003cp\u003eaxios 的 API 很友好，完全可以很轻松地在项目中直接使用。\u003c/p\u003e\u003cp\u003e不过随着项目规模增大，如果每发起一次HTTP请求，就要把这些比如设置超时时间、设置请求头、根据项目环境判断使用哪个请求地址、错误处理等等操作，都需要写一遍，这种重复劳动不仅浪费时间，而且让代码变得冗余增加，难以维护。为了提高代码质量，所以应该在项目中二次封装 axios 再使用。\u003c/p\u003e\u003ch3\u003e如何封装\u003c/h3\u003e\u003cul\u003e\u003cli\u003e封装的同时，你需要和后端协商好一些约定，请求头，状态码，请求超时时间......\u003c/li\u003e\u003cli\u003e设置接口请求前缀：根据开发、测试、预发、生产环境的不同，前缀需要加以区分；\u003c/li\u003e\u003cli\u003e请求头 : 来实现一些具体的业务，必须携带一些参数才可以请求(比如：用户信息)；\u003c/li\u003e\u003cli\u003e状态码: 根据接口返回的不同status ， 来执行不同的业务，这块需要和后端约定好；\u003c/li\u003e\u003cli\u003e请求方法：根据get、post等方法进行一个再次封装，使用起来更为方便\u003c/li\u003e\u003cli\u003e请求拦截器: 根据请求的请求头设定，来决定哪些请求可以访问\u003c/li\u003e\u003cli\u003e响应拦截器： 这块就是根据 后端返回来的状态码判定执行不同业务\u003c/li\u003e\u003c/ul\u003e\u003cp\u003e代码实例：\u003c/p\u003e\u003cpre\u003e\u003ccode \u003eimport axios from 'axios'\nimport { message, notification } from 'antd'\n\nconst openNotification = (msg) =\u0026gt; {\n  notification.error({\n    message: '请联系管理员',\n    description: msg\n  })\n}\n\nconst showStatus = (status) =\u0026gt; {\n  let message = ''\n  switch (status) {\n    case 400:\n      message = '请求错误(400)'\n      break\n    case 401:\n      message = '未授权，请重新登录(401)'\n      break\n    case 402:\n      message = '拒绝访问(402)'\n      break\n    case 404:\n      message = '请求出错(404)'\n      break\n    case 408:\n      message = '请求超时(408)'\n      break\n    case 500:\n      message = '服务器错误(500)'\n      break\n    case 501:\n      message = '服务未实现(501)'\n      break\n    case 502:\n      message = '网络错误(502)'\n      break\n    case 503:\n      message = '服务不可用(503)'\n      break\n    case 504:\n      message = '网络超时(504)'\n      break\n    case 505:\n      message = 'HTTP版本不受支持(505)'\n      break\n    default:\n      message = `连接出错(${status})!`\n  }\n  return `${message}，请检查网络或联系管理员！`\n}\n\nconst service = axios.create({\n  // 联调\n\n  headers: {\n    get: {\n      'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8'\n    },\n    post: {\n      'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8'\n    }\n  },\n  // 是否跨站点访问控制请求\n  withCredentials: false,\n  timeout: 30000,\n  validateStatus () {\n    // 使用async-await，处理reject情况较为繁琐，所以全部返回resolve，在业务代码中处理异常\n    return true\n  }\n})\n\n// 请求拦截器\nservice.interceptors.request.use(\n  config =\u0026gt; {\n    // 将 token 添加到请求头\n    const token = localStorage.getItem('token')\n    token \u0026\u0026 (config.headers.token = token)\n    return config\n  },\n  (err) =\u0026gt; {\n    err.message = '服务器异常，请联系管理员！'\n    // 错误抛到业务代码\n    return Promise.reject(err)\n  }\n)\n\n// 响应拦截器\nservice.interceptors.response.use(\n  response =\u0026gt; {\n    const status = response.status\n    let msg = ''\n    if ((status \u0026lt; 200) || (status \u0026gt;= 300 \u0026\u0026 status !== 401 \u0026\u0026 status !== 500)) {\n      // 处理http错误，抛到业务代码\n      msg = showStatus(status)\n      openNotification(msg)\n      if (typeof response.data === 'string') {\n        response.data = { msg }\n      } else {\n        response.data.msg = msg\n      }\n      return response\n    } else if (status === 200) {\n      if (!response.data.success) {\n        message.error(response.data.message)\n      }\n      return response.data\n    } else if (status === 500) {\n      msg = showStatus(status)\n      openNotification(msg)\n      response.data = { msg }\n      //   router.replace({name:'exception',query:{type:500}})\n      return response\n    }\n  },\n  (err) =\u0026gt; {\n    err.message = '请求超时或服务器异常，请检查网络或联系管理员！'\n    openNotification('请求超时或服务器异常，请检查网络或联系管理员！')\n    // return Promise.reject(err)\n  }\n)\n\nexport default service\n\u003c/code\u003e\u003c/pre\u003e\u003ch2\u003eCSS Modules + node-sass\u003c/h2\u003e\u003ch3\u003e什么是CSS Modules\u003c/h3\u003e\u003cp\u003e\u003cspan style=\"color: rgb(10, 10, 35);\"\u003e所有的类名和动画名称默认都有各自的作用域的 CSS 文件。\u003c/span\u003e\u003c/p\u003e\u003cp\u003e\u003cspan style=\"color: rgb(10, 10, 35);\"\u003e所以 CSS Modules 既不是官方标准，也不是浏览器的特性，而是在构建步骤（例如使用 Webpack 或 Browserify）中对 CSS 类名和选择器限定作用域的一种方式（类似于命名空间）。\u003c/span\u003e\u003c/p\u003e\u003ch3\u003enode-sass\u003c/h3\u003e\u003cp\u003e\u003cspan style=\"color: rgb(10, 10, 35);\"\u003enode sass是一个库，它将Node.js绑定到LibSass【流行样式表预处理器Sass的C版本】，它允许用户以令人难以置信的速度将【.scss】文件本地编译为css，并通过连接中间件自动编译。\u003c/span\u003e\u003c/p\u003e\u003ch3\u003e\u003cspan style=\"color: rgb(33, 37, 41);\"\u003e为什么使用scss，而不是传统的css\u003c/span\u003e\u003c/h3\u003e\u003cp\u003e\u003cspan style=\"color: rgb(33, 37, 41); font-size: 16px;\"\u003e使用 scss 可以编写清晰、无冗余、语义化的 css。\u003c/span\u003e\u003c/p\u003e\u003cp\u003e\u003cstrong\u003e变量\u003c/strong\u003e\u003cspan style=\"color: rgb(33, 37, 41); font-size: 16px;\"\u003e是 scss 提供的最基本的工具。通过变量可以让独立的 css 值变得可重用，无论是在一条单独的规则范围内还是在整个样式表中。\u003c/span\u003e\u003c/p\u003e\u003cp\u003e\u003cspan style=\"color: rgb(33, 37, 41); font-size: 16px;\"\u003e同样基础的是 scss 的 \u003c/span\u003e\u003cstrong\u003e嵌套机制\u003c/strong\u003e\u003cspan style=\"color: rgb(33, 37, 41); font-size: 16px;\"\u003e。嵌套允许css规则内嵌套css规则，减少重复编写常用的选择器，同时让样式表的结构一眼望去更加清晰。scss同时提供了特殊的\u003c/span\u003e\u003cstrong\u003e父选择器标识符 \u0026\u003c/strong\u003e\u003cspan style=\"color: rgb(33, 37, 41); font-size: 16px;\"\u003e ，通过它可以构造出更高效的嵌套。\u003c/span\u003e\u003c/p\u003e\u003cp\u003e\u003cstrong\u003e混合器\u003c/strong\u003e\u003cspan style=\"color: rgb(33, 37, 41); font-size: 16px;\"\u003e允许用户编写语义化样式的同时避免视觉层面上样式的重复。使用混合器减少重复，使用混合器让你的css变得更加可维护和语义化。\u003c/span\u003e\u003c/p\u003e\u003cp\u003e\u003cspan style=\"color: rgb(33, 37, 41); font-size: 16px;\"\u003e与混合器相辅相成的\u003c/span\u003e\u003cstrong\u003e选择器继承\u003c/strong\u003e\u003cspan style=\"color: rgb(33, 37, 41); font-size: 16px;\"\u003e。继承允许你声明类之间语义化的关系，通过这些关系可以保持你的css的整洁和可维护性。\u003c/span\u003e\u003c/p\u003e\u003cp\u003e\u003cstrong\u003e样式导入\u003c/strong\u003e\u003cspan style=\"color: rgb(33, 37, 41); font-size: 16px;\"\u003e，scss 的另一个重要特性。通过样式导入可以把分散在多个sass文件中的内容合并生成到一个css文件，避免了项目中有大量的css文件通过原生的css @import带来的性能问题。通过嵌套导入和默认变量值，导入可以构建更强有力的、可定制的样式。\u003c/span\u003e\u003c/p\u003e\u003ch2\u003e状态管理工具 mobx\u003c/h2\u003e\u003cp\u003e\u003cem\u003e简单、可扩展的状态管理\u003c/em\u003e\u003c/p\u003e\u003ch3\u003e\u003cspan style=\"color: rgb(51, 51, 51);\"\u003eMobx工作流程\u003c/span\u003e\u003c/h3\u003e\u003cp\u003e\u003cimg src=\"https://cdn.nlark.com/yuque/0/2022/png/29349018/1668651326688-11627ad0-e87a-463e-82a5-09d5445f86a4.png\" alt=\"\" data-href=\"\" style=\"\"/\u003e\u003c/p\u003e\u003cp\u003e\u003cspan style=\"color: rgb(51, 51, 51); font-size: 16px;\"\u003eReact 和 MobX 是一对强力组合。React 通过提供机制把应用状态转换为可渲染组件树并对其进行渲染。而MobX提供机制来存储和更新应用状态供 React 使用。\u003c/span\u003e\u003c/p\u003e\u003ch2\u003e\u003cspan style=\"font-size: 14px;\"\u003eESlint代码规范\u003c/span\u003e\u003c/h2\u003e\u003cp\u003e\u003ca href=\"https://www.yuque.com/yuhucoldchain/rg9z8o/eaegfy\" target=\"\"\u003ehttps://www.yuque.com/yuhucoldchain/rg9z8o/eaegfy\u003c/a\u003e\u003c/p\u003e\u003ch2\u003e项目优化\u003c/h2\u003e\u003ch4\u003e\u003cspan style=\"font-size: 14px;\"\u003e绝对路径 @ \u003c/span\u003e\u003c/h4\u003e\u003cp style=\"text-align: left;\"\u003e\u003cspan style=\"font-size: 14px;\"\u003e使用\u003c/span\u003e\u003ca href=\"https://github.com/timarney/react-app-rewired\" target=\"_blank\"\u003ereact-app-rewired\u003c/a\u003e\u003cspan style=\"font-size: 14px;\"\u003e来对react-scripts进行hack。\u003c/span\u003e\u003c/p\u003e\u003cpre\u003e\u003ccode \u003e$ yarn add -D react-app-rewired //或 $ npm install react-app-rewired --save-dev\u003c/code\u003e\u003c/pre\u003e\u003cp style=\"text-align: left;\"\u003e\u003cspan style=\"font-size: 14px;\"\u003e然后修改\u003c/span\u003e\u003cstrong\u003epackage.json\u003c/strong\u003e\u003cspan style=\"font-size: 14px;\"\u003e，将\u003c/span\u003e\u003cstrong\u003estart\u003c/strong\u003e\u003cspan style=\"font-size: 14px;\"\u003e、\u003c/span\u003e\u003cstrong\u003ebuild\u003c/strong\u003e\u003cspan style=\"font-size: 14px;\"\u003e、\u003c/span\u003e\u003cstrong\u003etest\u003c/strong\u003e\u003cspan style=\"font-size: 14px;\"\u003e三个命令由react-scripts换成\u003c/span\u003e\u003cspan style=\"color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); font-size: 12px;\"\u003ereact-app-rewired\u003c/span\u003e\u003c/p\u003e\u003cpre\u003e\u003ccode \u003e\"scripts\": { \n  \t\"start\": \"react-app-rewired start\", \n    \"build\": \"react-app-rewired build\", \n    \"test\": \"react-app-rewired test\", \n    \"eject\": \"react-scripts eject\" \n},\u003c/code\u003e\u003c/pre\u003e\u003cp style=\"text-align: left;\"\u003e\u003cspan style=\"font-size: 14px;\"\u003e在根目录下创建\u003c/span\u003e\u003cstrong\u003econfig-overrides.js\u003c/strong\u003e\u003cspan style=\"font-size: 14px;\"\u003e：\u003c/span\u003e\u003c/p\u003e\u003cpre\u003e\u003ccode \u003econst path = require('path'); \nconst rootPath = path.resolve(__dirname, 'src'); \n\nmodule.exports = { \n  webpack: (config) =\u0026gt; { \n    config.resolve.alias['@'] = rootPath; \n    return config; \n  }, \n}\u003c/code\u003e\u003c/pre\u003e\u003cp style=\"text-align: left;\"\u003e\u003cstrong\u003e注意：\u003c/strong\u003e\u003cspan style=\"font-size: 14px;\"\u003e修改完文件后，\u003c/span\u003e\u003cstrong\u003e必须先重启项目\u003c/strong\u003e\u003cspan style=\"font-size: 14px;\"\u003e，然后再使用绝对路径，\u003c/span\u003e\u003cspan style=\"color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); font-size: 12px;\"\u003e@\u003c/span\u003e\u003cspan style=\"font-size: 14px;\"\u003e代表的就是\u003c/span\u003e\u003cspan style=\"color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); font-size: 12px;\"\u003e根目录/src\u003c/span\u003e\u003cspan style=\"font-size: 14px;\"\u003e 。\u003c/span\u003e\u003c/p\u003e\u003ch4\u003ehelper.js\u003c/h4\u003e\u003ch4\u003e页面跳转过渡状态\u003c/h4\u003e\u003cp\u003e\u003cbr\u003e\u003c/p\u003e\u003cp\u003e\u003cbr\u003e\u003c/p\u003e\u003cp\u003e\u003cbr\u003e\u003c/p\u003e","art_author":"yellow star","art_createtime":"2022-11-17T03:04:38.000Z","art_tags":4}},"__N_SSG":true},"page":"/artcontent/[aid]","query":{"aid":"93"},"buildId":"kRrtnNUirzJtMh_xDWC5r","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>