{"pageProps":{"datas":{"id":14,"art_title":"20220822/17:01","art_content":"<p>富文本内容只读操作</p><pre><code class=\"language-javascript\">import React, { useEffect, useState } from 'react'\r\nimport Head from 'next/head'\r\nimport Image from 'next/image'\r\nimport styles from '../../styles/artcontent.module.css'\r\nimport axios from 'axios'\r\nimport { useRouter } from 'next/router'\r\nimport '@wangeditor/editor/dist/css/style.css'\r\nimport dynamic from 'next/dynamic';\r\n\r\nexport async function getStaticPaths() {\r\n    const res = await fetch('http://192.168.70.98:3030/api/msq/test')\r\n    const arts = await res.json()\r\n   const narts= arts.data.map(item=&gt;{\r\n       return {\r\n        params:{aid:item.id+''}\r\n       }\r\n    })\r\n    // console.log('arts',narts);\r\n    return {\r\n      paths: narts,\r\n    //   paths: [{ params: { aid: '1' } }, { params: { aid: '2' }}],\r\n      fallback: false, // can also be true or 'blocking'\r\n    }\r\n  }\r\nexport async function getStaticProps(context) {\r\n   \r\n  // Call an external API endpoint to get posts.\r\n  // You can use any data fetching library\r\n  const res = await fetch('http://192.168.70.98:3030/api/msq/search?id='+context.params.aid)\r\n  const detail = await res.json()\r\n    console.log(detail);\r\n//   // By returning { props: { posts } }, the Blog component\r\n//   // will receive `posts` as a prop at build time\r\n  return {\r\n    props: {\r\n      datas:detail.data,\r\n    },\r\n  }\r\n}\r\n\r\nconst DisplayPanels = dynamic(import(\"../../components/DisplayPanels\"), {\r\n    ssr: false,\r\n    loading: () =&gt; &lt;p&gt;Loading ...&lt;/p&gt;,\r\n  });\r\n\r\n\r\nexport default function Artcontent(props) {\r\n  const router = useRouter()\r\n  const { aid } = router.query\r\n  const {datas={}}=props\r\n  useEffect(()=&gt;{\r\n    \r\n  },[])\r\n\r\n  return (\r\n    &lt;div className={styles.container}&gt;\r\n      &lt;Head&gt;\r\n        &lt;title&gt;yellow star blog&lt;/title&gt;\r\n        &lt;meta name=\"description\" content=\"yellow star blog\" /&gt;\r\n        &lt;link rel=\"icon\" href=\"/CarStation.svg\" /&gt;\r\n      &lt;/Head&gt;\r\n\r\n      &lt;main className={styles.main}&gt;\r\n        &lt;h1&gt;{datas.art_title}&lt;/h1&gt;\r\n        &lt;DisplayPanels\r\n            EditorCfg={{\r\n                defaultConfig:{\r\n                    placeholder: '无内容',\r\n                    readOnly:true\r\n                  },\r\n                value:datas.art_content,\r\n                // onCreated:setEditor,\r\n                // onChange:editor =&gt; setHtml(editor.getHtml()),\r\n                mode:'default',\r\n                style:{ height: '500px', 'overflowY': 'hidden' },\r\n                readOnly:true\r\n              }}\r\n        &gt;&lt;/DisplayPanels&gt;\r\n      &lt;/main&gt;\r\n\r\n      &lt;footer className={styles.footer}&gt;\r\n        &lt;a\r\n          href=\"https://vercel.com?utm_source=create-next-app&utm_medium=default-template&utm_campaign=create-next-app\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n        &gt;\r\n          Powered by{' '}\r\n          &lt;span className={styles.logo}&gt;\r\n            &lt;Image src=\"/vercel.svg\" alt=\"Vercel Logo\" width={72} height={16} /&gt;\r\n          &lt;/span&gt;\r\n        &lt;/a&gt;\r\n      &lt;/footer&gt;\r\n    &lt;/div&gt;\r\n  )\r\n}\r\n</code></pre><p><br></p>","art_author":"yellow star","art_createtime":"2022-08-22T09:03:28.000Z","art_tags":null}},"__N_SSG":true}