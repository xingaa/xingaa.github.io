{"pageProps":{"datas":{"id":93,"art_title":"React æ­å»ºåå°é¡¹ç›®","art_content":"<h2>åˆ›å»ºä¸€ä¸ªé¡¹ç›®</h2><h3><span style=\"color: rgb(0, 0, 0);\">å®˜ç½‘æ¨èçš„å·¥å…·é“¾</span></h3><p><span style=\"color: rgb(0, 0, 0); font-size: 16px;\">React å›¢é˜Ÿä¸»è¦æ¨èè¿™äº›è§£å†³æ–¹æ¡ˆï¼š</span></p><ul><li><span style=\"color: rgb(26, 26, 26);\">å¦‚æœä½ æ˜¯åœ¨</span><strong>å­¦ä¹  React</strong><span style=\"color: rgb(26, 26, 26);\"> æˆ–</span><strong>åˆ›å»ºä¸€ä¸ªæ–°çš„</strong>å•é¡µ<strong>åº”ç”¨</strong><span style=\"color: rgb(26, 26, 26);\">ï¼Œè¯·ä½¿ç”¨ </span>Create React App<span style=\"color: rgb(26, 26, 26);\">ã€‚</span></li><li><span style=\"color: rgb(26, 26, 26);\">å¦‚æœä½ æ˜¯åœ¨</span><strong>ç”¨ Node.js æ„å»ºæœåŠ¡ç«¯æ¸²æŸ“çš„ç½‘ç«™</strong><span style=\"color: rgb(26, 26, 26);\">ï¼Œè¯•è¯• </span>Next.js<span style=\"color: rgb(26, 26, 26);\">ã€‚</span></li><li><span style=\"color: rgb(26, 26, 26);\">å¦‚æœä½ æ˜¯åœ¨æ„å»º</span><strong>å†…å®¹ä¸»å¯¼çš„é™æ€ç½‘ç«™</strong><span style=\"color: rgb(26, 26, 26);\">ï¼Œè¯•è¯• </span>Gatsby<span style=\"color: rgb(26, 26, 26);\">ã€‚</span></li><li><span style=\"color: rgb(26, 26, 26);\">å¦‚æœä½ æ˜¯åœ¨æ‰“é€ </span><strong>ç»„ä»¶åº“</strong><span style=\"color: rgb(26, 26, 26);\">æˆ–</span><strong>å°† React é›†æˆåˆ°ç°æœ‰ä»£ç ä»“åº“</strong><span style=\"color: rgb(26, 26, 26);\">ï¼Œå°è¯•</span>æ›´çµæ´»çš„å·¥å…·é“¾<span style=\"color: rgb(26, 26, 26);\">ã€‚</span></li></ul><h3><span style=\"color: rgb(0, 0, 0);\">Create React App</span></h3><p><a href=\"https://github.com/facebookincubator/create-react-app\" target=\"_blank\">Create React App</a><span style=\"color: rgb(0, 0, 0); font-size: 16px;\"> æ˜¯ä¸€ä¸ªç”¨äº</span><strong>å­¦ä¹  React</strong><span style=\"color: rgb(0, 0, 0); font-size: 16px;\"> çš„èˆ’é€‚ç¯å¢ƒï¼Œä¹Ÿæ˜¯ç”¨ React åˆ›å»º</span><strong>æ–°çš„</strong><a href=\"https://zh-hans.reactjs.org/docs/glossary.html#single-page-application\" target=\"_blank\">å•é¡µ</a><strong>åº”ç”¨</strong><span style=\"color: rgb(0, 0, 0); font-size: 16px;\">çš„æœ€ä½³æ–¹å¼ã€‚</span></p><p><span style=\"color: rgb(0, 0, 0); font-size: 16px;\">å®ƒä¼šé…ç½®ä½ çš„å¼€å‘ç¯å¢ƒï¼Œä»¥ä¾¿ä½¿ä½ èƒ½å¤Ÿä½¿ç”¨æœ€æ–°çš„ JavaScript ç‰¹æ€§ï¼Œæä¾›è‰¯å¥½çš„å¼€å‘ä½“éªŒï¼Œå¹¶ä¸ºç”Ÿäº§ç¯å¢ƒä¼˜åŒ–ä½ çš„åº”ç”¨ç¨‹åºã€‚ä½ éœ€è¦åœ¨ä½ çš„æœºå™¨ä¸Šå®‰è£… </span><a href=\"https://nodejs.org/en/\" target=\"_blank\">Node &gt;= 14.0.0 å’Œ npm &gt;= 5.6</a><span style=\"color: rgb(0, 0, 0); font-size: 16px;\">ã€‚è¦åˆ›å»ºé¡¹ç›®ï¼Œè¯·æ‰§è¡Œï¼š</span></p><pre><code >npx create-react-app my-app \ncd my-app \nnpm start\n</code></pre><p><strong>æ³¨æ„</strong></p><p><span style=\"color: rgb(0, 0, 0); font-size: 16px;\">ç¬¬ä¸€è¡Œçš„ </span><span style=\"color: rgb(26, 26, 26); font-size: 16px;\">npx</span><span style=\"color: rgb(0, 0, 0); font-size: 16px;\"> ä¸æ˜¯æ‹¼å†™é”™è¯¯ â€”â€” å®ƒæ˜¯ </span>npm 5.2+ é™„å¸¦çš„ package è¿è¡Œå·¥å…·<span style=\"color: rgb(0, 0, 0); font-size: 16px;\">ã€‚</span></p><p><span style=\"color: rgb(0, 0, 0); font-size: 16px;\">Create React App ä¸ä¼šå¤„ç†åç«¯é€»è¾‘æˆ–æ“çºµæ•°æ®åº“ï¼›å®ƒåªæ˜¯åˆ›å»ºä¸€ä¸ªå‰ç«¯æ„å»ºæµæ°´çº¿ï¼ˆbuild pipelineï¼‰ï¼Œæ‰€ä»¥ä½ å¯ä»¥ä½¿ç”¨å®ƒæ¥é…åˆä»»ä½•ä½ æƒ³ä½¿ç”¨çš„åç«¯ã€‚å®ƒåœ¨å†…éƒ¨ä½¿ç”¨ </span><a href=\"https://babeljs.io/\" target=\"_blank\">Babel</a><span style=\"color: rgb(0, 0, 0); font-size: 16px;\"> å’Œ </span><a href=\"https://webpack.js.org/\" target=\"_blank\">webpack</a><span style=\"color: rgb(0, 0, 0); font-size: 16px;\">ï¼Œä½†ä½ æ— éœ€äº†è§£å®ƒä»¬çš„ä»»ä½•ç»†èŠ‚ã€‚</span></p><p><span style=\"color: rgb(0, 0, 0); font-size: 16px;\">å½“ä½ å‡†å¤‡å¥½éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒæ—¶ï¼Œæ‰§è¡Œ </span><span style=\"color: rgb(26, 26, 26); font-size: 16px;\">npm run build</span><span style=\"color: rgb(0, 0, 0); font-size: 16px;\"> ä¼šåœ¨ </span><span style=\"color: rgb(26, 26, 26); font-size: 16px;\">build</span><span style=\"color: rgb(0, 0, 0); font-size: 16px;\"> æ–‡ä»¶å¤¹å†…ç”Ÿæˆä½ åº”ç”¨çš„ä¼˜åŒ–ç‰ˆæœ¬ã€‚</span></p><p>é¡¹ç›®åˆå§‹é¡µé¢ï¼š</p><p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/29349018/1667288055402-d6851283-8b72-48bb-b4cb-dab40dea6a4b.png\" alt=\"\" data-href=\"\" style=\"\"/></p><p>åˆå§‹ç›®å½•ç»“æ„ï¼š</p><pre><code >my-app\nâ”œâ”€â”€ README.md\nâ”œâ”€â”€ node_modules\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ .gitignore\nâ”œâ”€â”€ public\t\t\t\t\t\t\t\t\t # ä¸å‚ä¸ç¼–è¯‘çš„èµ„æºæ–‡ä»¶\nâ”‚   â”œâ”€â”€ favicon.ico\nâ”‚   â”œâ”€â”€ index.html\nâ”‚   â””â”€â”€ manifest.json\nâ””â”€â”€ src\t\t\t\t\t\t\t\t\t\t\t # ä¸»ç¨‹åºç›®å½•\t\t\n    â”œâ”€â”€ App.css\n    â”œâ”€â”€ App.js\n    â”œâ”€â”€ App.test.js\n    â”œâ”€â”€ index.css\n    â”œâ”€â”€ index.js\n    â”œâ”€â”€ logo.svg\n    â””â”€â”€ serviceWorker.js\n    â””â”€â”€ setupTests.js</code></pre><h3>ä¸€ä¸ªæ¨¡å—ï¼ˆé¡µé¢/ç»„ä»¶ï¼‰çš„åŸºæœ¬ä»£ç ç»“æ„</h3><p>hello.jsx:</p><pre><code >import React, { useState } from 'react'\nimport styles from './index.module.scss'\n\nconst app = () =&gt; {\n  \n  const [data, setData] = useState('hello world')\n  \n  const onChange = () =&gt; {\n    setActiveKey('changed')\n  }\n\n  return (\n    &lt;div className={styles.box} onClick={onChange}&gt;\n  \t\t{data}\n    &lt;/div&gt;\n  )\n}\n\nexport default app\n</code></pre><h2>æ„å»ºè·¯ç”± <span style=\"color: rgb(28, 30, 33); font-size: 16px;\">React Router</span></h2><p>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨è·¯ç”±ï¼Ÿ</p><p>ä¼ ç»Ÿwebå¼€å‘æ˜¯æ¯ä¸€ä¸ªè¯·æ±‚åœ°å€éƒ½ä¼šè¯·æ±‚æœåŠ¡å™¨æ¥è¿›è¡Œå¤„ç†ï¼Œä½†æ˜¯ç”¨æˆ·æœ‰äº›æ“ä½œåˆ™æ— éœ€è¯·æ±‚æœåŠ¡å™¨ï¼Œç›´æ¥é¡µé¢ç«¯ä¿®æ”¹ä¸‹é€»è¾‘å°±èƒ½è¾¾åˆ°ç›®çš„ï¼Œè¿™ç§æœ€å¥½ä½¿ç”¨è·¯ç”±ï¼Œä½¿ç”¨è·¯ç”±æ—¶ï¼Œurlä¹Ÿæ˜¯éšç€æ”¹å˜çš„ï¼Œç”¨æˆ·æµè§ˆåˆ°ä¸€ä¸ªç½‘é¡µæ—¶å¯ä»¥ç›´æ¥å¤åˆ¶æˆ–æ”¶è—å½“å‰é¡µçš„urlç»™åˆ«äººï¼Œè¿™ç§æ–¹å¼å¯¹äºæœç´¢å¼•æ“å’Œç”¨æˆ·æ¥è¯´éƒ½æ˜¯å‹å¥½çš„ã€‚</p><p><br></p><p><span style=\"color: rgb(28, 30, 33); font-size: 16px;\">React Router</span></p><p><span style=\"color: rgb(28, 30, 33); font-size: 16px;\">React Routeræ˜¯ä¸ºReactï¼ˆä¸€ä¸ªç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„ JavaScript åº“ï¼‰è®¾è®¡çš„ä¸€ä¸ªåŠŸèƒ½é½å…¨çš„å¯ä»¥ç”¨åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„è·¯ç”±åº“ï¼Œå®ƒå¯ä»¥åœ¨Reactè¿è¡Œçš„åœ°æ–¹è¿è¡Œï¼Œåœ¨webä¸Šï¼Œnode.jsåœ¨æœåŠ¡å™¨ä¸Šï¼Œä»¥åŠReact Nativeä¸Šã€‚</span></p><h3><span style=\"font-size: 16px;\">å®‰è£…</span></h3><p><span style=\"font-size: 16px;\">åœ¨é¡¹ç›®ç›®å½•ä¸‹ï¼Œä½¿ç”¨npmä¸‹è½½</span></p><pre><code >npm install react-router-dom@6 history@5</code></pre><h3>é¡¹ç›®ä¸­ä½¿ç”¨</h3><p><span style=\"font-size: 16px;\">é¦–å…ˆåˆ›å»ºè·¯ç”±ï¼šé€‰å®šä¸€ä¸ªå…¥å£æ–‡ä»¶ï¼Œå¹¶å¼•å…¥ </span><span style=\"color: rgb(28, 30, 33); font-size: 16px;\">BrowserRouter ç»„ä»¶åŒ…è£¹æ•´ä¸ªåº”ç”¨ï¼›æ·»åŠ è·¯ç”±ã€åµŒå¥—è·¯ç”±ã€é‡å®šå‘ï¼›</span></p><p><span style=\"color: rgb(28, 30, 33); font-size: 16px;\">å…¥å£æ–‡ä»¶ï¼š</span></p><pre><code >import React, { } from 'react'\nimport './App.css'\nimport {\n  BrowserRouter as Router,\n  Routes,\n  Route,\n  Navigate\n} from 'react-router-dom'\nimport DefaultLayout from '@/components/Layouts/DefaultLayout'\nimport routesData from './router/routes'\nimport Login from './pages/Login'\n\nfunction App () {\n  return (\n    &lt;div className=\"App\"&gt;\n      &lt;Router&gt;\n        &lt;Routes&gt;\n          {/* é¦–æ¬¡è¿›å…¥é¡µé¢æ˜¯é‡å®šå‘åˆ°/homeè·¯å¾„ */}\n          &lt;Route path=\"/\" element={&lt;Navigate to=\"/home\" /&gt;}&gt;&lt;/Route&gt;\n          &lt;Route element={&lt;DefaultLayout /&gt;}&gt;\n            {routesData.map((item: any, index: number) =&gt; {\n              return (\n                &lt;Route\n                  path={item.path}\n                  key={index}\n                  element={&lt;item.component /&gt;}\n                &gt;&lt;/Route&gt;\n              )\n            })}\n          &lt;/Route&gt;\n          &lt;Route path=\"/login\" element={&lt;Login /&gt;} /&gt;\n          &lt;Route path=\"*\" element={&lt;div className=\"noFound\"&gt;Not Found&lt;/div&gt;} /&gt;\n        &lt;/Routes&gt;\n      &lt;/Router&gt;\n    &lt;/div&gt;\n  )\n}\nexport default App</code></pre><p><span style=\"font-size: 16px;\">è·¯ç”±ä¹‹é—´çš„è·³è½¬</span></p><p><span style=\"font-size: 16px;\">æ–¹æ³•ä¸€ï¼š</span></p><pre><code >import { Link } from \"react-router-dom\";\n\nexport default function App() {\n  return (\n    &lt;div&gt;\n        &lt;Link to=\"/home\"&gt;home&lt;/Link&gt;\n        &lt;Link to=\"/login\"&gt;login&lt;/Link&gt;\n    &lt;/div&gt;\n  );\n}</code></pre><p><span style=\"font-size: 16px;\">æ–¹æ³•äºŒï¼š</span></p><pre><code >import { useNavigate } from \"react-router-dom\";\n\nexport default function App() {\n  const navigate = useNavigate()\n  return (\n    &lt;div&gt;\n        &lt;button onClick={()=&gt;navigate('/home')}&gt;home&lt;/button&gt;\n        &lt;button onClick={()=&gt;navigate('/login')}&gt;login&lt;/button&gt;\n    &lt;/div&gt;\n  );\n}</code></pre><h2>é…ç½®Antdç»„ä»¶åº“</h2><p><span style=\"color: rgba(0, 0, 0, 0.85); background-color: rgb(242, 244, 245);\">antd</span><span style=\"color: rgba(0, 0, 0, 0.85); font-size: 14px;\"> æ˜¯åŸºäº Ant Design è®¾è®¡ä½“ç³»çš„ React UI ç»„ä»¶åº“ï¼Œä¸»è¦ç”¨äºç ”å‘ä¼ä¸šçº§ä¸­åå°äº§å“ã€‚</span></p><p style=\"text-align: left;\"><img src=\"https://cdn.nlark.com/yuque/0/2022/png/29349018/1667289069588-daffe4f2-9fbc-4a09-886d-daa1658ebade.png\" alt=\"\" data-href=\"\" style=\"\"></p><p><span style=\"color: rgba(0, 0, 0, 0.85);\">âœ¨</span><strong> ç‰¹æ€§ï¼š</strong></p><ul><li><span style=\"color: rgba(0, 0, 0, 0.85); font-size: 14px;\">ğŸŒˆ æç‚¼è‡ªä¼ä¸šçº§ä¸­åå°äº§å“çš„äº¤äº’è¯­è¨€å’Œè§†è§‰é£æ ¼ã€‚</span></li><li><span style=\"color: rgba(0, 0, 0, 0.85); font-size: 14px;\">ğŸ“¦ å¼€ç®±å³ç”¨çš„é«˜è´¨é‡ React ç»„ä»¶ã€‚</span></li><li><span style=\"color: rgba(0, 0, 0, 0.85); font-size: 14px;\">ğŸ›¡ ä½¿ç”¨ TypeScript å¼€å‘ï¼Œæä¾›å®Œæ•´çš„ç±»å‹å®šä¹‰æ–‡ä»¶ã€‚</span></li><li><span style=\"color: rgba(0, 0, 0, 0.85); font-size: 14px;\">âš™ï¸ å…¨é“¾è·¯å¼€å‘å’Œè®¾è®¡å·¥å…·ä½“ç³»ã€‚</span></li><li><span style=\"color: rgba(0, 0, 0, 0.85); font-size: 14px;\">ğŸŒ æ•°åä¸ªå›½é™…åŒ–è¯­è¨€æ”¯æŒã€‚</span></li><li><span style=\"color: rgba(0, 0, 0, 0.85); font-size: 14px;\">ğŸ¨ æ·±å…¥æ¯ä¸ªç»†èŠ‚çš„ä¸»é¢˜å®šåˆ¶èƒ½åŠ›ã€‚</span></li></ul><p><br></p><p>å®‰è£…ä½¿ç”¨</p><pre><code >npm install antd</code></pre><p>ä½¿ç”¨ä¸€ä¸ªæŒ‰é’®ç»„ä»¶</p><pre><code >import React from 'react';\nimport { Button } from 'antd';\nimport './App.css';\n\nconst App = () =&gt; (\n  &lt;div className=\"App\"&gt;\n    &lt;Button type=\"primary\"&gt;Button&lt;/Button&gt;\n  &lt;/div&gt;\n);\n\nexport default App;</code></pre><p>å¯¼å…¥æ ·å¼ï¼Œ<span style=\"color: rgba(0, 0, 0, 0.85); font-size: 14px;\">ä¿®æ”¹ </span><span style=\"color: rgba(0, 0, 0, 0.85); background-color: rgb(242, 244, 245);\">src/App.css</span><span style=\"color: rgba(0, 0, 0, 0.85); font-size: 14px;\">ï¼Œåœ¨æ–‡ä»¶é¡¶éƒ¨å¼•å…¥ </span><span style=\"color: rgba(0, 0, 0, 0.85); background-color: rgb(242, 244, 245);\">antd/dist/antd.css</span><span style=\"color: rgba(0, 0, 0, 0.85); font-size: 14px;\">ã€‚</span></p><pre><code >@import '~antd/dist/antd.css';</code></pre><p>å…¨å±€é…ç½®ä¸­æ–‡è¯­è¨€ç¯å¢ƒï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œantdè¯­è¨€æ˜¯è‹±æ–‡ï¼Œéœ€è¦æ‰‹åŠ¨ä¿®æ”¹å›ä¸­æ–‡ç¯å¢ƒ</p><p>index.js:</p><pre><code >import React from 'react'\nimport ReactDOM from 'react-dom/client'\nimport './index.css'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\nimport { ConfigProvider } from 'antd'\nimport zhCN from 'antd/es/locale/zh_CN'\n\nconst root = ReactDOM.createRoot(\n  document.getElementById('root') as HTMLElement\n)\nroot.render(\n  // ConfigProvider antdå…¨å±€é…ç½®ä¸­æ–‡è¯­è¨€ç¯å¢ƒ\n  &lt;ConfigProvider locale={zhCN}&gt;\n    &lt;App /&gt;\n  &lt;/ConfigProvider&gt;\n)\n\nreportWebVitals()\n</code></pre><h2>å°è£…å…¨å±€ç»„ä»¶</h2><p>åœ¨src/componentsè·¯å¾„ä¸‹åˆ›å»ºå…¨å±€ç»„ä»¶,è§£å†³é‡å¤åˆ©ç”¨ï¼Œå¼€å‘ä»£ç åŸºæœ¬å’Œé¡µé¢å¼€å‘ä¸€è‡´ï¼Œ</p><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><pre><code >import styles from './index.module.scss'\nimport React, { } from 'react'\n\nconst App = (props) =&gt; {\n  const { title = 'æ®µè½æ ‡é¢˜', children, style } = props\n  return (\n    &lt;div className={styles.box} style={style}&gt;\n      &lt;div className={styles.header}&gt;&lt;div className={styles.headerItem}&gt;{title}&lt;/div&gt;&lt;/div&gt;\n      &lt;div className={styles.content}&gt;{ children}&lt;/div&gt;\n    &lt;/div&gt;\n  )\n}\nexport default App\n</code></pre><p>è°ƒç”¨</p><pre><code >import Plates from '@/components/Plates'\n\n...\n\n&lt;Plates title={'è´¹ç”¨è¯¦æƒ…'}&gt;\n  &lt;Table\n    columns={columns}\n    dataSource={data}\n    pagination={false}\n    bordered\n    size={'small'}\n  /&gt;\n&lt;/Plates&gt;</code></pre><p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/29349018/1668648752246-771519a6-4446-48b8-a095-848e711a9bcc.png\" alt=\"\" data-href=\"\" style=\"\"/></p><h2>äºŒæ¬¡å°è£…è¯·æ±‚å‡½æ•°</h2><h3><span style=\"color: rgb(51, 51, 51);\">Axios æ˜¯ä»€ä¹ˆ?</span></h3><p>Axios æ˜¯ä¸€ä¸ªåŸºäº <a href=\"https://link.juejin.cn?target=https%3A%2F%2Fjavascript.info%2Fpromise-basics\" target=\"_blank\">promise</a> ç½‘ç»œè¯·æ±‚åº“ï¼Œä½œç”¨äº<a href=\"https://link.juejin.cn?target=https%3A%2F%2Fnodejs.org%2F\" target=\"_blank\">node.js</a> å’Œæµè§ˆå™¨ä¸­ã€‚ å®ƒæ˜¯ <a href=\"https://link.juejin.cn?target=https%3A%2F%2Fwww.lullabot.com%2Farticles%2Fwhat-is-an-isomorphic-application\" target=\"_blank\">isomorphic</a> çš„(å³åŒä¸€å¥—ä»£ç å¯ä»¥è¿è¡Œåœ¨æµè§ˆå™¨å’Œnode.jsä¸­)ã€‚åœ¨æœåŠ¡ç«¯å®ƒä½¿ç”¨åŸç”Ÿ node.js http æ¨¡å—, è€Œåœ¨å®¢æˆ·ç«¯ (æµè§ˆç«¯) åˆ™ä½¿ç”¨ XMLHttpRequestsã€‚</p><p><strong>ç‰¹æ€§</strong></p><ul><li><span style=\"color: rgb(51, 51, 51); font-size: 16px;\">ä»æµè§ˆå™¨ä¸­åˆ›å»º </span><span style=\"color: rgb(255, 80, 44); background-color: rgb(255, 245, 245); font-size: 16px;\">XMLHttpRequests</span></li><li><span style=\"color: rgb(51, 51, 51); font-size: 16px;\">ä» </span><span style=\"color: rgb(255, 80, 44); background-color: rgb(255, 245, 245); font-size: 16px;\">node.js</span><span style=\"color: rgb(51, 51, 51); font-size: 16px;\"> åˆ›å»º </span><span style=\"color: rgb(255, 80, 44); background-color: rgb(255, 245, 245); font-size: 16px;\">http</span><span style=\"color: rgb(51, 51, 51); font-size: 16px;\">è¯·æ±‚</span></li><li><span style=\"color: rgb(51, 51, 51); font-size: 16px;\">æ”¯æŒ </span><span style=\"color: rgb(255, 80, 44); background-color: rgb(255, 245, 245); font-size: 16px;\">Promise</span><span style=\"color: rgb(51, 51, 51); font-size: 16px;\"> API</span></li><li><span style=\"color: rgb(51, 51, 51); font-size: 16px;\">æ‹¦æˆªè¯·æ±‚å’Œå“åº”</span></li><li><span style=\"color: rgb(51, 51, 51); font-size: 16px;\">è½¬æ¢è¯·æ±‚æ•°æ®å’Œå“åº”æ•°æ®</span></li><li><span style=\"color: rgb(51, 51, 51); font-size: 16px;\">å–æ¶ˆè¯·æ±‚</span></li><li><span style=\"color: rgb(51, 51, 51); font-size: 16px;\">è‡ªåŠ¨è½¬æ¢</span><span style=\"color: rgb(255, 80, 44); background-color: rgb(255, 245, 245); font-size: 16px;\"> JSON</span><span style=\"color: rgb(51, 51, 51); font-size: 16px;\"> æ•°æ®</span></li><li><span style=\"color: rgb(51, 51, 51); font-size: 16px;\">å®¢æˆ·ç«¯æ”¯æŒé˜²å¾¡</span><span style=\"color: rgb(255, 80, 44); background-color: rgb(255, 245, 245); font-size: 16px;\">XSRF</span></li></ul><h3><span style=\"background-color: rgb(255, 245, 245);\">åŸºæœ¬ä½¿ç”¨</span></h3><p><span style=\"color: rgb(51, 51, 51); font-size: 16px;\">å®‰è£…</span></p><pre><code >npm install axios</code></pre><p><span style=\"color: rgb(51, 51, 51); font-size: 16px;\">å¯¼å…¥</span></p><pre><code >import axios from 'axios'</code></pre><p><span style=\"color: rgb(51, 51, 51); font-size: 16px;\">å‘é€è¯·æ±‚</span></p><pre><code >axios({        \n  url:'xxx',    // è®¾ç½®è¯·æ±‚çš„åœ°å€\n  method:\"GET\", // è®¾ç½®è¯·æ±‚æ–¹æ³•\n  params:{      // getè¯·æ±‚ä½¿ç”¨paramsè¿›è¡Œå‚æ•°å‡­å€Ÿ,å¦‚æœæ˜¯postè¯·æ±‚ç”¨data\n    type: '',\n    page: 1\n  }\n}).then(res =&gt; {  \n  // resä¸ºåç«¯è¿”å›çš„æ•°æ®\n  console.log(res);   \n})\n</code></pre><h3><span style=\"color: rgb(51, 51, 51);\">ä¸ºä»€ä¹ˆè¦å°è£…</span></h3><p>axios çš„ API å¾ˆå‹å¥½ï¼Œå®Œå…¨å¯ä»¥å¾ˆè½»æ¾åœ°åœ¨é¡¹ç›®ä¸­ç›´æ¥ä½¿ç”¨ã€‚</p><p>ä¸è¿‡éšç€é¡¹ç›®è§„æ¨¡å¢å¤§ï¼Œå¦‚æœæ¯å‘èµ·ä¸€æ¬¡HTTPè¯·æ±‚ï¼Œå°±è¦æŠŠè¿™äº›æ¯”å¦‚è®¾ç½®è¶…æ—¶æ—¶é—´ã€è®¾ç½®è¯·æ±‚å¤´ã€æ ¹æ®é¡¹ç›®ç¯å¢ƒåˆ¤æ–­ä½¿ç”¨å“ªä¸ªè¯·æ±‚åœ°å€ã€é”™è¯¯å¤„ç†ç­‰ç­‰æ“ä½œï¼Œéƒ½éœ€è¦å†™ä¸€éï¼Œè¿™ç§é‡å¤åŠ³åŠ¨ä¸ä»…æµªè´¹æ—¶é—´ï¼Œè€Œä¸”è®©ä»£ç å˜å¾—å†—ä½™å¢åŠ ï¼Œéš¾ä»¥ç»´æŠ¤ã€‚ä¸ºäº†æé«˜ä»£ç è´¨é‡ï¼Œæ‰€ä»¥åº”è¯¥åœ¨é¡¹ç›®ä¸­äºŒæ¬¡å°è£… axios å†ä½¿ç”¨ã€‚</p><h3>å¦‚ä½•å°è£…</h3><ul><li>å°è£…çš„åŒæ—¶ï¼Œä½ éœ€è¦å’Œåç«¯åå•†å¥½ä¸€äº›çº¦å®šï¼Œè¯·æ±‚å¤´ï¼ŒçŠ¶æ€ç ï¼Œè¯·æ±‚è¶…æ—¶æ—¶é—´......</li><li>è®¾ç½®æ¥å£è¯·æ±‚å‰ç¼€ï¼šæ ¹æ®å¼€å‘ã€æµ‹è¯•ã€é¢„å‘ã€ç”Ÿäº§ç¯å¢ƒçš„ä¸åŒï¼Œå‰ç¼€éœ€è¦åŠ ä»¥åŒºåˆ†ï¼›</li><li>è¯·æ±‚å¤´ : æ¥å®ç°ä¸€äº›å…·ä½“çš„ä¸šåŠ¡ï¼Œå¿…é¡»æºå¸¦ä¸€äº›å‚æ•°æ‰å¯ä»¥è¯·æ±‚(æ¯”å¦‚ï¼šç”¨æˆ·ä¿¡æ¯)ï¼›</li><li>çŠ¶æ€ç : æ ¹æ®æ¥å£è¿”å›çš„ä¸åŒstatus ï¼Œ æ¥æ‰§è¡Œä¸åŒçš„ä¸šåŠ¡ï¼Œè¿™å—éœ€è¦å’Œåç«¯çº¦å®šå¥½ï¼›</li><li>è¯·æ±‚æ–¹æ³•ï¼šæ ¹æ®getã€postç­‰æ–¹æ³•è¿›è¡Œä¸€ä¸ªå†æ¬¡å°è£…ï¼Œä½¿ç”¨èµ·æ¥æ›´ä¸ºæ–¹ä¾¿</li><li>è¯·æ±‚æ‹¦æˆªå™¨: æ ¹æ®è¯·æ±‚çš„è¯·æ±‚å¤´è®¾å®šï¼Œæ¥å†³å®šå“ªäº›è¯·æ±‚å¯ä»¥è®¿é—®</li><li>å“åº”æ‹¦æˆªå™¨ï¼š è¿™å—å°±æ˜¯æ ¹æ® åç«¯è¿”å›æ¥çš„çŠ¶æ€ç åˆ¤å®šæ‰§è¡Œä¸åŒä¸šåŠ¡</li></ul><p>ä»£ç å®ä¾‹ï¼š</p><pre><code >import axios from 'axios'\nimport { message, notification } from 'antd'\n\nconst openNotification = (msg) =&gt; {\n  notification.error({\n    message: 'è¯·è”ç³»ç®¡ç†å‘˜',\n    description: msg\n  })\n}\n\nconst showStatus = (status) =&gt; {\n  let message = ''\n  switch (status) {\n    case 400:\n      message = 'è¯·æ±‚é”™è¯¯(400)'\n      break\n    case 401:\n      message = 'æœªæˆæƒï¼Œè¯·é‡æ–°ç™»å½•(401)'\n      break\n    case 402:\n      message = 'æ‹’ç»è®¿é—®(402)'\n      break\n    case 404:\n      message = 'è¯·æ±‚å‡ºé”™(404)'\n      break\n    case 408:\n      message = 'è¯·æ±‚è¶…æ—¶(408)'\n      break\n    case 500:\n      message = 'æœåŠ¡å™¨é”™è¯¯(500)'\n      break\n    case 501:\n      message = 'æœåŠ¡æœªå®ç°(501)'\n      break\n    case 502:\n      message = 'ç½‘ç»œé”™è¯¯(502)'\n      break\n    case 503:\n      message = 'æœåŠ¡ä¸å¯ç”¨(503)'\n      break\n    case 504:\n      message = 'ç½‘ç»œè¶…æ—¶(504)'\n      break\n    case 505:\n      message = 'HTTPç‰ˆæœ¬ä¸å—æ”¯æŒ(505)'\n      break\n    default:\n      message = `è¿æ¥å‡ºé”™(${status})!`\n  }\n  return `${message}ï¼Œè¯·æ£€æŸ¥ç½‘ç»œæˆ–è”ç³»ç®¡ç†å‘˜ï¼`\n}\n\nconst service = axios.create({\n  // è”è°ƒ\n\n  headers: {\n    get: {\n      'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8'\n    },\n    post: {\n      'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8'\n    }\n  },\n  // æ˜¯å¦è·¨ç«™ç‚¹è®¿é—®æ§åˆ¶è¯·æ±‚\n  withCredentials: false,\n  timeout: 30000,\n  validateStatus () {\n    // ä½¿ç”¨async-awaitï¼Œå¤„ç†rejectæƒ…å†µè¾ƒä¸ºç¹çï¼Œæ‰€ä»¥å…¨éƒ¨è¿”å›resolveï¼Œåœ¨ä¸šåŠ¡ä»£ç ä¸­å¤„ç†å¼‚å¸¸\n    return true\n  }\n})\n\n// è¯·æ±‚æ‹¦æˆªå™¨\nservice.interceptors.request.use(\n  config =&gt; {\n    // å°† token æ·»åŠ åˆ°è¯·æ±‚å¤´\n    const token = localStorage.getItem('token')\n    token && (config.headers.token = token)\n    return config\n  },\n  (err) =&gt; {\n    err.message = 'æœåŠ¡å™¨å¼‚å¸¸ï¼Œè¯·è”ç³»ç®¡ç†å‘˜ï¼'\n    // é”™è¯¯æŠ›åˆ°ä¸šåŠ¡ä»£ç \n    return Promise.reject(err)\n  }\n)\n\n// å“åº”æ‹¦æˆªå™¨\nservice.interceptors.response.use(\n  response =&gt; {\n    const status = response.status\n    let msg = ''\n    if ((status &lt; 200) || (status &gt;= 300 && status !== 401 && status !== 500)) {\n      // å¤„ç†httpé”™è¯¯ï¼ŒæŠ›åˆ°ä¸šåŠ¡ä»£ç \n      msg = showStatus(status)\n      openNotification(msg)\n      if (typeof response.data === 'string') {\n        response.data = { msg }\n      } else {\n        response.data.msg = msg\n      }\n      return response\n    } else if (status === 200) {\n      if (!response.data.success) {\n        message.error(response.data.message)\n      }\n      return response.data\n    } else if (status === 500) {\n      msg = showStatus(status)\n      openNotification(msg)\n      response.data = { msg }\n      //   router.replace({name:'exception',query:{type:500}})\n      return response\n    }\n  },\n  (err) =&gt; {\n    err.message = 'è¯·æ±‚è¶…æ—¶æˆ–æœåŠ¡å™¨å¼‚å¸¸ï¼Œè¯·æ£€æŸ¥ç½‘ç»œæˆ–è”ç³»ç®¡ç†å‘˜ï¼'\n    openNotification('è¯·æ±‚è¶…æ—¶æˆ–æœåŠ¡å™¨å¼‚å¸¸ï¼Œè¯·æ£€æŸ¥ç½‘ç»œæˆ–è”ç³»ç®¡ç†å‘˜ï¼')\n    // return Promise.reject(err)\n  }\n)\n\nexport default service\n</code></pre><h2>CSS Modules + node-sass</h2><h3>ä»€ä¹ˆæ˜¯CSS Modules</h3><p><span style=\"color: rgb(10, 10, 35);\">æ‰€æœ‰çš„ç±»åå’ŒåŠ¨ç”»åç§°é»˜è®¤éƒ½æœ‰å„è‡ªçš„ä½œç”¨åŸŸçš„ CSS æ–‡ä»¶ã€‚</span></p><p><span style=\"color: rgb(10, 10, 35);\">æ‰€ä»¥ CSS Modules æ—¢ä¸æ˜¯å®˜æ–¹æ ‡å‡†ï¼Œä¹Ÿä¸æ˜¯æµè§ˆå™¨çš„ç‰¹æ€§ï¼Œè€Œæ˜¯åœ¨æ„å»ºæ­¥éª¤ï¼ˆä¾‹å¦‚ä½¿ç”¨ Webpack æˆ– Browserifyï¼‰ä¸­å¯¹ CSS ç±»åå’Œé€‰æ‹©å™¨é™å®šä½œç”¨åŸŸçš„ä¸€ç§æ–¹å¼ï¼ˆç±»ä¼¼äºå‘½åç©ºé—´ï¼‰ã€‚</span></p><h3>node-sass</h3><p><span style=\"color: rgb(10, 10, 35);\">node sassæ˜¯ä¸€ä¸ªåº“ï¼Œå®ƒå°†Node.jsç»‘å®šåˆ°LibSassã€æµè¡Œæ ·å¼è¡¨é¢„å¤„ç†å™¨Sassçš„Cç‰ˆæœ¬ã€‘ï¼Œå®ƒå…è®¸ç”¨æˆ·ä»¥ä»¤äººéš¾ä»¥ç½®ä¿¡çš„é€Ÿåº¦å°†ã€.scssã€‘æ–‡ä»¶æœ¬åœ°ç¼–è¯‘ä¸ºcssï¼Œå¹¶é€šè¿‡è¿æ¥ä¸­é—´ä»¶è‡ªåŠ¨ç¼–è¯‘ã€‚</span></p><h3><span style=\"color: rgb(33, 37, 41);\">ä¸ºä»€ä¹ˆä½¿ç”¨scssï¼Œè€Œä¸æ˜¯ä¼ ç»Ÿçš„css</span></h3><p><span style=\"color: rgb(33, 37, 41); font-size: 16px;\">ä½¿ç”¨ scss å¯ä»¥ç¼–å†™æ¸…æ™°ã€æ— å†—ä½™ã€è¯­ä¹‰åŒ–çš„ cssã€‚</span></p><p><strong>å˜é‡</strong><span style=\"color: rgb(33, 37, 41); font-size: 16px;\">æ˜¯ scss æä¾›çš„æœ€åŸºæœ¬çš„å·¥å…·ã€‚é€šè¿‡å˜é‡å¯ä»¥è®©ç‹¬ç«‹çš„ css å€¼å˜å¾—å¯é‡ç”¨ï¼Œæ— è®ºæ˜¯åœ¨ä¸€æ¡å•ç‹¬çš„è§„åˆ™èŒƒå›´å†…è¿˜æ˜¯åœ¨æ•´ä¸ªæ ·å¼è¡¨ä¸­ã€‚</span></p><p><span style=\"color: rgb(33, 37, 41); font-size: 16px;\">åŒæ ·åŸºç¡€çš„æ˜¯ scss çš„ </span><strong>åµŒå¥—æœºåˆ¶</strong><span style=\"color: rgb(33, 37, 41); font-size: 16px;\">ã€‚åµŒå¥—å…è®¸cssè§„åˆ™å†…åµŒå¥—cssè§„åˆ™ï¼Œå‡å°‘é‡å¤ç¼–å†™å¸¸ç”¨çš„é€‰æ‹©å™¨ï¼ŒåŒæ—¶è®©æ ·å¼è¡¨çš„ç»“æ„ä¸€çœ¼æœ›å»æ›´åŠ æ¸…æ™°ã€‚scssåŒæ—¶æä¾›äº†ç‰¹æ®Šçš„</span><strong>çˆ¶é€‰æ‹©å™¨æ ‡è¯†ç¬¦ &</strong><span style=\"color: rgb(33, 37, 41); font-size: 16px;\"> ï¼Œé€šè¿‡å®ƒå¯ä»¥æ„é€ å‡ºæ›´é«˜æ•ˆçš„åµŒå¥—ã€‚</span></p><p><strong>æ··åˆå™¨</strong><span style=\"color: rgb(33, 37, 41); font-size: 16px;\">å…è®¸ç”¨æˆ·ç¼–å†™è¯­ä¹‰åŒ–æ ·å¼çš„åŒæ—¶é¿å…è§†è§‰å±‚é¢ä¸Šæ ·å¼çš„é‡å¤ã€‚ä½¿ç”¨æ··åˆå™¨å‡å°‘é‡å¤ï¼Œä½¿ç”¨æ··åˆå™¨è®©ä½ çš„csså˜å¾—æ›´åŠ å¯ç»´æŠ¤å’Œè¯­ä¹‰åŒ–ã€‚</span></p><p><span style=\"color: rgb(33, 37, 41); font-size: 16px;\">ä¸æ··åˆå™¨ç›¸è¾…ç›¸æˆçš„</span><strong>é€‰æ‹©å™¨ç»§æ‰¿</strong><span style=\"color: rgb(33, 37, 41); font-size: 16px;\">ã€‚ç»§æ‰¿å…è®¸ä½ å£°æ˜ç±»ä¹‹é—´è¯­ä¹‰åŒ–çš„å…³ç³»ï¼Œé€šè¿‡è¿™äº›å…³ç³»å¯ä»¥ä¿æŒä½ çš„cssçš„æ•´æ´å’Œå¯ç»´æŠ¤æ€§ã€‚</span></p><p><strong>æ ·å¼å¯¼å…¥</strong><span style=\"color: rgb(33, 37, 41); font-size: 16px;\">ï¼Œscss çš„å¦ä¸€ä¸ªé‡è¦ç‰¹æ€§ã€‚é€šè¿‡æ ·å¼å¯¼å…¥å¯ä»¥æŠŠåˆ†æ•£åœ¨å¤šä¸ªsassæ–‡ä»¶ä¸­çš„å†…å®¹åˆå¹¶ç”Ÿæˆåˆ°ä¸€ä¸ªcssæ–‡ä»¶ï¼Œé¿å…äº†é¡¹ç›®ä¸­æœ‰å¤§é‡çš„cssæ–‡ä»¶é€šè¿‡åŸç”Ÿçš„css @importå¸¦æ¥çš„æ€§èƒ½é—®é¢˜ã€‚é€šè¿‡åµŒå¥—å¯¼å…¥å’Œé»˜è®¤å˜é‡å€¼ï¼Œå¯¼å…¥å¯ä»¥æ„å»ºæ›´å¼ºæœ‰åŠ›çš„ã€å¯å®šåˆ¶çš„æ ·å¼ã€‚</span></p><h2>çŠ¶æ€ç®¡ç†å·¥å…· mobx</h2><p><em>ç®€å•ã€å¯æ‰©å±•çš„çŠ¶æ€ç®¡ç†</em></p><h3><span style=\"color: rgb(51, 51, 51);\">Mobxå·¥ä½œæµç¨‹</span></h3><p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/29349018/1668651326688-11627ad0-e87a-463e-82a5-09d5445f86a4.png\" alt=\"\" data-href=\"\" style=\"\"/></p><p><span style=\"color: rgb(51, 51, 51); font-size: 16px;\">React å’Œ MobX æ˜¯ä¸€å¯¹å¼ºåŠ›ç»„åˆã€‚React é€šè¿‡æä¾›æœºåˆ¶æŠŠåº”ç”¨çŠ¶æ€è½¬æ¢ä¸ºå¯æ¸²æŸ“ç»„ä»¶æ ‘å¹¶å¯¹å…¶è¿›è¡Œæ¸²æŸ“ã€‚è€ŒMobXæä¾›æœºåˆ¶æ¥å­˜å‚¨å’Œæ›´æ–°åº”ç”¨çŠ¶æ€ä¾› React ä½¿ç”¨ã€‚</span></p><h2><span style=\"font-size: 14px;\">ESlintä»£ç è§„èŒƒ</span></h2><p><a href=\"https://www.yuque.com/yuhucoldchain/rg9z8o/eaegfy\" target=\"\">https://www.yuque.com/yuhucoldchain/rg9z8o/eaegfy</a></p><h2>é¡¹ç›®ä¼˜åŒ–</h2><h4><span style=\"font-size: 14px;\">ç»å¯¹è·¯å¾„ @ </span></h4><p style=\"text-align: left;\"><span style=\"font-size: 14px;\">ä½¿ç”¨</span><a href=\"https://github.com/timarney/react-app-rewired\" target=\"_blank\">react-app-rewired</a><span style=\"font-size: 14px;\">æ¥å¯¹react-scriptsè¿›è¡Œhackã€‚</span></p><pre><code >$ yarn add -D react-app-rewired //æˆ– $ npm install react-app-rewired --save-dev</code></pre><p style=\"text-align: left;\"><span style=\"font-size: 14px;\">ç„¶åä¿®æ”¹</span><strong>package.json</strong><span style=\"font-size: 14px;\">ï¼Œå°†</span><strong>start</strong><span style=\"font-size: 14px;\">ã€</span><strong>build</strong><span style=\"font-size: 14px;\">ã€</span><strong>test</strong><span style=\"font-size: 14px;\">ä¸‰ä¸ªå‘½ä»¤ç”±react-scriptsæ¢æˆ</span><span style=\"color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); font-size: 12px;\">react-app-rewired</span></p><pre><code >\"scripts\": { \n  \t\"start\": \"react-app-rewired start\", \n    \"build\": \"react-app-rewired build\", \n    \"test\": \"react-app-rewired test\", \n    \"eject\": \"react-scripts eject\" \n},</code></pre><p style=\"text-align: left;\"><span style=\"font-size: 14px;\">åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»º</span><strong>config-overrides.js</strong><span style=\"font-size: 14px;\">ï¼š</span></p><pre><code >const path = require('path'); \nconst rootPath = path.resolve(__dirname, 'src'); \n\nmodule.exports = { \n  webpack: (config) =&gt; { \n    config.resolve.alias['@'] = rootPath; \n    return config; \n  }, \n}</code></pre><p style=\"text-align: left;\"><strong>æ³¨æ„ï¼š</strong><span style=\"font-size: 14px;\">ä¿®æ”¹å®Œæ–‡ä»¶åï¼Œ</span><strong>å¿…é¡»å…ˆé‡å¯é¡¹ç›®</strong><span style=\"font-size: 14px;\">ï¼Œç„¶åå†ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼Œ</span><span style=\"color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); font-size: 12px;\">@</span><span style=\"font-size: 14px;\">ä»£è¡¨çš„å°±æ˜¯</span><span style=\"color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); font-size: 12px;\">æ ¹ç›®å½•/src</span><span style=\"font-size: 14px;\"> ã€‚</span></p><h4>helper.js</h4><h4>é¡µé¢è·³è½¬è¿‡æ¸¡çŠ¶æ€</h4><p><br></p><p><br></p><p><br></p>","art_author":"yellow star","art_createtime":"2022-11-17T03:04:38.000Z","art_tags":4}},"__N_SSG":true}